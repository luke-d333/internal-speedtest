<!DOCTYPE html>
<html>
<head>
  <title>Internal Speedtest</title>
  <style>
    /* Body and background */
    body {
      font-family: sans-serif;
      text-align: center; /* centers the form container */
      margin: 0;
      padding-top: 50px;
      min-height: 100vh;
      background: #1A2925; /* Kelp background */
      color: #EAECE8; /* Grey text */
    }

    /* Headings */
    h1 {
      color: #ADF5B4; /* Honest Lime for heading */
      margin-bottom: 10px;
    }

    p {
      color: #F2F7FB; /* Sky for paragraph text */
      margin-bottom: 10px;
    }

    /* Form container */
    .form-container {
      display: inline-block; /* allows form to be centered */
      text-align: left;      /* left-align text inside form */
      padding: 20px;
      background: rgba(0, 0, 0, 0.02); /* subtle Off-White background */
      border-radius: 12px;
    }

    /* Form fields */
    label {
      display: block;
      margin-bottom: 5px;
      color: #C6CFFF; /* Lilac label */
    }

    input {
      padding: 8px 12px;
      margin-bottom: 15px;
      border-radius: 8px;
      border: 1px solid #EAECE8; /* subtle grey border */
      width: 250px;
      display: block;
      background-color: #F2F7FB; /* Sky input background */
      color: #1A2925; /* Kelp text */
    }

    /* Submit button */
    button {
      padding: 10px 20px;
      border-radius: 8px;
      background: #ADF5B4; /* Honest Lime */
      color: #1A2925; /* Kelp text */
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    button:hover {
      background: #C6CFFF; /* Lilac on hover */
    }

    /* Results container */
    .results {
      display: none; /* hidden initially */
      margin-top: 20px;
      padding: 15px;
      border-radius: 12px;
      background: rgba(0, 0, 0, 0.05);
      text-align: left;
      color: #1A2925; /* Kelp text for results */
    }

    .results h2 {
      color: #ADF5B4; /* Honest Lime heading */
      margin-bottom: 10px;
    }

    .results p {
      margin: 5px 0;
    }
  </style>
</head>
<body>

  <h1>Want some speed?</h1>
  <p>Enter your postcode below to run a speedtest</p>

  <div class="form-container">
    <form id="speedForm">
      <label for="postcode">Full postcode:</label>
      <input type="text" id="postcode" name="postcode" required>

      <button type="submit">Submit</button>
    </form>
  </div>

  <div class="results" id="results">
    <h2>Speedtest Results</h2>
    <p id="download"></p>
    <p id="upload"></p>
    <p id="ping"></p>
  </div>

  <script>
    const form = document.getElementById('speedForm');
    const resultsDiv = document.getElementById('results');

    form.addEventListener('submit', function(e) {
      e.preventDefault(); // prevent normal form submission

      const data = new FormData(form);

      fetch('YOUR_MAKE_WEBHOOK_URL', { // replace with your Make.com webhook
        method: 'POST',
        body: data
      })
      .then(res => res.json())
      .then(result => {
        // hide the form
        form.style.display = 'none';

        // show results div
        resultsDiv.style.display = 'block';
        document.getElementById('download').innerText = 'Download: ' + result.download;
        document.getElementById('upload').innerText = 'Upload: ' + result.upload;
        document.getElementById('ping').innerText = 'Ping: ' + result.ping;
      })
      .catch(err => {
        alert('Error fetching results: ' + err);
      });
    });
  </script>

</body>
</html>
